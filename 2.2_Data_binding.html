<!doctype html>
<html>
<head>
        <script src="d3.js" type="text/Javascript">
        </script>
        <style type="text/css">
                svg {
                        height: 500px;
                        width: 500px;
                        border: 1px solid gray;
                }
        </style>
</head>
<body>

        <div>
                <svg></svg>
        </div>

        <script type="text/javascript">

        var dataset1=[15, 50, 22, 8, 100, 10];
        var dataset2=[14, 68, 24500, 430, 19, 1000, 5555];

        //2.2.3 Integrating Scales
        var yScale = d3.scaleLinear()
                       .domain([0,1000,5000])             //polylinear scale
                       .range([0,250,500])
                       .clamp(true);                    //over 500, cut

        d3.select("svg")
          .selectAll("rect")
          .data(dataset2)
          .enter()
          .append("rect")
          .attr("width", 50)
          .attr("height", function(d) {return yScale(d);})
          .style("fill", "blue")
          .style("stroke", "red")
          .style("stroke-width", "1px")
          .style("opacity", .25)
          .attr("x", function(d,i) {return i * 60})
          .attr("y", function(d) {return 500 - yScale(d);});    //svgs are drawn top-to-bottom

        </script>
</body>
</html>
